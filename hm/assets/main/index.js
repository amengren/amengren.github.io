System.register("chunks:///_virtual/JsonUtils.ts",["cc","./GameUtil.ts"],(function(e){"use strict";var t,n,s,i,o;return{setters:[function(e){t=e.cclegacy,n=e.resources,s=e.JsonAsset,i=e.error},function(e){o=e.GameUtil}],execute:function(){t._RF.push({},"094ae3JcHpOdaeicG3S5ROh","JsonUtils",void 0);var a=new Map;e("JsonUtil",function(){function e(){}return e.get=function(e){if(a.has(e))return a.get(e)},e.load=function(e,t){if(a.has(e))t(a.get(e));else{var r=o.inst.getConfigPath(e);n.load(r,s,(function(n,s){n&&i(n.message),a.set(e,s.json),t(s.json)}))}},e.loadAsync=function(e){return new Promise((function(t,r){if(a.has(e))t(a.get(e));else{var c=o.inst.getConfigPath(e);n.load(c,s,(function(n,s){n&&i(n.message),a.set(e,s.json),t(s.json)}))}}))},e.release=function(e){var t=o.inst.getConfigPath(e);a.delete(e),n.release(t)},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/Config.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(e){"use strict";var t,i,l,n;return{setters:[function(e){t=e.cclegacy,i=e._decorator},function(e){l=e.defineProperty,n=e.createClass}],execute:function(){var r,c,o;t._RF.push({},"17ea1N7bsRLjbiQMKEnB4Xh","Config",void 0);var u=i.ccclass;i.property,e("Config",u("Config")((o=c=function(){function e(){}return n(e,null,[{key:"worldMapWidth",get:function(){return e.cellSizeX*e.cellWidth}},{key:"worldMapHeight",get:function(){return e.cellSizeY*e.cellHeight}},{key:"mapSizeWidth",get:function(){return 20*e.cellWidth}},{key:"mapSizeHeight",get:function(){return 20*e.cellHeight}}]),e}(),l(c,"worldMapX",0),l(c,"worldMapY",0),l(c,"cellWidth",64),l(c,"cellHeight",64),l(c,"cellSizeX",300),l(c,"cellSizeY",300),l(c,"FrameTime",1/60),r=o))||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonTips.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BaseLayer.ts"],(function(t){"use strict";var e,o,i,r,n,s,a,c,l;return{setters:[function(t){e=t.cclegacy,o=t._decorator},function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.UIPackage,c=t.GRoot},function(t){l=t.BaseLayer}],execute:function(){var p,u,f;e._RF.push({},"1d6ffkXNW1ECZ7UBzAa1m4j","CommonTips",void 0);var m=o.ccclass,y=o.property;t("CommonTips",m("CommonTips")((f=i((u=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),r=0;r<o;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,n(s(e),"_tipsTxt",f,s(e)),e}r(e,t);var o=e.prototype;return o.show=function(t){var o=a.createObject("Common","Common_Tips",e);o.makeFullScreen(),c.inst.addChild(o),o._tipsTxt=t,o.getChild("txt").text=t,setTimeout((function(){o.Close()}),1e3)},o.start=function(){t.prototype.start.call(this)},o.Close=function(){t.prototype.Close.call(this)},e}(l)).prototype,"_tipsTxt",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=u))||p);e._RF.pop()}}}));

System.register("chunks:///_virtual/MapModule.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameUtil.ts","./Config.ts"],(function(i){"use strict";var t,e,n,o,a,r,s,l,h,d,p,P,u,M,f;return{setters:[function(i){t=i.cclegacy,e=i._decorator,n=i.view,o=i.find,a=i.sp,r=i.TiledMap,s=i.Component,l=i.instantiate,h=i.resources,d=i.TiledMapAsset},function(i){p=i.inheritsLoose,P=i.defineProperty,u=i.assertThisInitialized},function(i){M=i.GameUtil},function(i){f=i.Config}],execute:function(){var x;t._RF.push({},"2cb31jUMntHCaDItz0fHaip","MapModule",void 0);var y=e.ccclass;i("MapModule",y("MapModule")(x=function(i){function t(){for(var t,e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return t=i.call.apply(i,[this].concat(n))||this,P(u(t),"mapPab",null),P(u(t),"worldPlayerX",1e3),P(u(t),"worldPlayerY",400),P(u(t),"viewSize",void 0),P(u(t),"PlayerSpine",null),P(u(t),"SPEED",9),P(u(t),"_PLAYER",!1),P(u(t),"MapNode",null),P(u(t),"mapSizeY",f.worldMapHeight/f.mapSizeHeight),P(u(t),"_roldPoints",null),P(u(t),"_touchMapPoint",null),P(u(t),"_beginPos",null),P(u(t),"memMapIndexX",-1),P(u(t),"memMapIndexY",-2),t}p(t,i);var e=t.prototype;return e.init=function(i){void 0===i&&(i=null),this.mapPab=i,console.log("MapModule start init"),this.viewSize=n.getVisibleSize(),this.MapNode=o("Canvas/MapNode"),this.PlayerSpine=this.node.getComponent(a.Skeleton)},e.update=function(i){this.npcMoveAi(i)},e.setPlayerState=function(i){this.PlayerSpine.animation!=i&&(this.PlayerSpine.animation=i)},e.upDatePlayerLocal=function(){this.node.setPosition(f.worldMapX+this.worldPlayerX,f.worldMapY+this.worldPlayerY)},e.setPlayerLocal=function(i,t){this.worldPlayerX=i,this.worldPlayerY=t,this.node.setPosition(f.worldMapX+this.worldPlayerX,f.worldMapY+this.worldPlayerY)},e.checkMapPix=function(i){var t=10,e=10;return i.x<t?i.x=t:i.x>=f.worldMapWidth-t&&(i.x=f.worldMapWidth-t-1),i.y<e?i.y=e:i.y>=f.worldMapHeight-e&&(i.y=f.worldMapHeight-e-1),i},e.getMapCellXY=function(){return{x:this.MapNode.position.x+this.viewSize.width/2,y:this.MapNode.position.y+this.viewSize.height/2}},e.mapIsCanMove=function(i,t){var e=Math.floor(i/f.mapSizeWidth),n=Math.floor(t/f.mapSizeHeight),a=o("TiledMap_"+e+"_"+n,this.MapNode);if(!a)return!1;var s=a.getComponent(r).getLayer("pz");i%=f.mapSizeWidth,t%=f.mapSizeHeight;var l=Math.floor(i/f.cellWidth),h=19-Math.floor(t/f.cellHeight);return 0==s.getTileGIDAt(l,h)},e.mapIsCanMovePos=function(i){var t=this.getPixByPos(i.x,i.y);return this.mapIsCanMove(t.x,t.y)},e.getPosByPix=function(i,t){var e=Math.floor(i/f.cellWidth),n=Math.floor((f.worldMapHeight-t)/f.cellHeight);return e=e>0?e:0,n=n>0?n:0,M.inst.P(e,n)},e.getPixByPos=function(i,t){var e=Math.floor(i*f.cellWidth+f.cellWidth/2),n=Math.floor(f.worldMapHeight-(t*f.cellHeight+f.cellHeight/2));return M.inst.P(e,n)},e.moveToPos=function(i,t){if(!this.mapIsCanMove(i.x,i.y))return console.log("目标位置不可到达",i.x,i.y),void M.inst.ShowTips("目标位置不可到达");var e=M.inst.P(i.x,i.y),n=this.getPosByPix(i.x,i.y),o=this.getPosByPix(this.worldPlayerX,this.worldPlayerY);null!=this.makeMovepath(o,n,e)&&this.setPlayerState("run")},e.NextPix=function(i,t){var e=this._roldPoints,n=e[M.inst.fMapIndex(i.x,i.y)];if(0==n)return t?[this.getPixByPos(i.x,i.y),M.inst.P(i.x,i.y)]:[this._touchMapPoint,i];var o=null,a=null;if(e[M.inst.fMapIndex(i.x,i.y-1)]==n-1&&(o=this.getPixByPos(i.x,i.y-1),a=M.inst.P(i.x,i.y-1)),e[M.inst.fMapIndex(i.x+1,i.y)]==n-1){var r=this.getPixByPos(i.x+1,i.y),s=M.inst.P(i.x+1,i.y);if(null!=o)return[M.inst.getPixAndPixCenter(o,r),a];o=r,a=s}if(e[M.inst.fMapIndex(i.x,i.y+1)]==n-1){var l=this.getPixByPos(i.x,i.y+1),h=M.inst.P(i.x,i.y+1);if(null!=o)return[M.inst.getPixAndPixCenter(o,l),a];o=l,a=h}if(e[M.inst.fMapIndex(i.x-1,i.y)]==n-1){var d=this.getPixByPos(i.x-1,i.y),p=M.inst.P(i.x-1,i.y);if(null!=o)return[M.inst.getPixAndPixCenter(o,d),a];o=d,a=p}return null==o?(console.error("error: 寻路路径不该不存在下一步，走到这里必然出错，需要代码排查。"),[null,null]):[o,a]},e.getNextPix=function(i){var t=this._roldPoints,e=this.getPosByPix(i.x,i.y);if(0==t[M.inst.fMapIndex(e.x,e.y)])return this._touchMapPoint;var n=this.NextPix(e,!1),o=this.NextPix(n[1],!0);return M.inst.getPixAndPixCenter(n[0],o[0])},e.domovePath=function(i,t,e,n){return null!=i[M.inst.fMapIndex(t,e)]||t<0||t>=f.cellSizeX||e<0||e>=f.cellSizeY?0:(this.mapIsCanMovePos(M.inst.P(t,e))&&(i[M.inst.fMapIndex(t,e-1)]!=n-1&&i[M.inst.fMapIndex(t+1,e)]!=n-1&&i[M.inst.fMapIndex(t,e+1)]!=n-1&&i[M.inst.fMapIndex(t-1,e)]!=n-1||(i[M.inst.fMapIndex(t,e)]=n)),null!=i[M.inst.fMapIndex(t,e)]&&t==this._beginPos.x&&e==this._beginPos.y?2:null!=i[M.inst.fMapIndex(t,e)]?1:0)},e.domovePathEx=function(i,t,e,n,o){var a=this.domovePath(e,n,o,t);if(1==a)i.push(M.inst.P(n,o));else if(2==a)return!0;return!1},e.makeMovepath=function(i,t,e){this._beginPos=i;var n={};if(!this.mapIsCanMovePos(i))return console.log("npc被卡住了"),null;var o=0;n[M.inst.fMapIndex(t.x,t.y)]=o;var a=new Array;a.push(M.inst.P(t.x,t.y));var r=!1;if(i.x==t.x&&i.y==t.y&&(r=!0),!r)for(;;){if(100==(o+=1)){n=null,M.inst.ShowTips("移动距离太远了");break}for(var s=new Array,l=0;l<a.length;l++){var h=a[l].x,d=a[l].y;if(this.domovePathEx(s,o,n,h,d-1)){r=!0;break}if(this.domovePathEx(s,o,n,h+1,d)){r=!0;break}if(this.domovePathEx(s,o,n,h,d+1)){r=!0;break}if(this.domovePathEx(s,o,n,h-1,d)){r=!0;break}}if(a=s,r)break;if(0==a.length){n=null,console.log("无法到达目的地",o);break}}return this._roldPoints=n,this._touchMapPoint=e,n},e.npcMoveAi=function(i){if(null!=this._roldPoints)if(this.SPEED<=0)this._roldPoints=null;else{for(var t=i/f.FrameTime*this.SPEED,e=this._roldPoints,n=this.worldPlayerX,o=this.worldPlayerY,a=n;;){var r=t;r>this.SPEED&&(r=this.SPEED),t-=r;var s=this.getPosByPix(n,o),l=s.x,h=s.y,d=e[M.inst.fMapIndex(l,h)];if(null==d){console.error("移动中的角色离开了路径，这里应该不会执行，遇到则需要排查bug"),this._roldPoints=null;break}var p=this.getNextPix(M.inst.P(n,o)),P=M.inst.PointAngle(M.inst.P(n,o),p),u=M.inst.Point2PointFAngle(M.inst.P(n,o),r,P);if(0==d&&M.inst.PixToSpeed(u,p)<this.SPEED){this._roldPoints=null,n=u.x,o=u.y,this.setPlayerState("stand");break}if(n=u.x,o=u.y,t<=0)break}this.upDateMap(),this.setPlayerLocal(n,o);var x=0;n>a?x=1:n<a&&(x=-1),0!=x&&this.node.setScale(x,1)}},e.upDateMap=function(i){void 0===i&&(i=!1),null!=this.mapPab&&(f.worldMapX=-this.worldPlayerX,f.worldMapY=-this.worldPlayerY,f.worldMapX>0-this.viewSize.width/2?f.worldMapX=0-this.viewSize.width/2:f.worldMapX<-f.worldMapWidth+this.viewSize.width/2&&(f.worldMapX=-f.worldMapWidth+this.viewSize.width/2),f.worldMapY>0-this.viewSize.height/2?f.worldMapY=0-this.viewSize.height/2:f.worldMapY<this.viewSize.height/2-f.worldMapHeight&&(f.worldMapY=this.viewSize.height/2-f.worldMapHeight),this.MapNode.setPosition(f.worldMapX,f.worldMapY),this.loadMap(i))},e.loadMap=function(i){var t=this;if(void 0===i&&(i=!1),i){var e=this.MapNode.children;for(var n in e)e[n].destroy()}var a=Math.floor(this.worldPlayerX/f.mapSizeWidth),s=Math.floor(this.worldPlayerY/f.mapSizeHeight);if(a!=this.memMapIndexX||s!=this.memMapIndexY){this.memMapIndexX=a,this.memMapIndexY=s;var p=this.MapNode.children;for(var P in p){var u=p[P].name.split("_"),M=Number(u[1]),x=Number(u[2]);(M<a-1||M>a+1||x<s-1||x>s+1)&&p[P].destroy()}for(var y=-1;y<=1;y++)for(var v=function(e){var n=a+y,p=s+e;if(!(n>=0&&n<f.worldMapWidth/f.mapSizeWidth))return"continue";if(!(p>=0&&p<f.worldMapHeight/f.mapSizeHeight))return"continue";var P="TiledMap_"+n+"_"+p,u=o(P,t.MapNode);if(i||!u){u&&u.destroy();var M=l(t.mapPab);M.parent=t.MapNode,M.name=P;var x=M.getComponent(r),v=t.mapSizeY-p-1;h.load("TILEDMAP/map/map_"+n+"_"+v,d,(function(i,t){i?console.error(i.message):(x.tmxAsset=t,M.setPosition(n*f.mapSizeWidth,p*f.mapSizeHeight,0))}))}},c=-1;c<=1;c++)v(c)}},t}(s))||x);t._RF.pop()}}}));

System.register("chunks:///_virtual/BagItemGet.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BaseLayer.ts"],(function(t){"use strict";var e,i,a,n,r,o,s,c;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){a=t.inheritsLoose,n=t.defineProperty,r=t.assertThisInitialized},function(t){o=t.UIPackage,s=t.GRoot},function(t){c=t.BaseLayer}],execute:function(){var l;e._RF.push({},"350bbj79FNLmbi4kuL0aB3q","BagItemGet",void 0);var u=i.ccclass;i.property,t("BagItemGet",u("BagItemGet")(l=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(r(e),"_data",void 0),e}return a(e,t),e.show=function(t){var i=o.createObject("Package","BagItemGet",e);i.makeFullScreen(),s.inst.addChild(i),i._data=t,i.start()},e.prototype.start=function(){this.getChild("closeBtn").onClick(this.Close.bind(this));var t=this.getChild("icon"),e=this.getChild("itemName");t.getChild("icon").url="RES/Icon/role_icon_1png",t.getChild("num").text=this._data.num,e.text=this._data.name},e}(c))||l);e._RF.pop()}}}));

System.register("chunks:///_virtual/CreateConfirmView.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BaseLayer.ts","./GameUtil.ts"],(function(e){"use strict";var t,i,n,o,s,a,r,l,c,h,C,d;return{setters:[function(e){t=e.cclegacy,i=e._decorator,n=e.resources,o=e.sp,s=e.Vec2},function(e){a=e.inheritsLoose,r=e.defineProperty,l=e.assertThisInitialized},function(e){c=e.UIPackage,h=e.GRoot},function(e){C=e.BaseLayer},function(e){d=e.GameUtil}],execute:function(){var u;t._RF.push({},"3fc273eA5pMaYyewOGdFM4A","CreateConfirmView",void 0);var p=i.ccclass;i.property,e("CreateConfirmView",p("CreateConfirmView")(u=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),o=0;o<i;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,r(l(t),"roleName",null),r(l(t),"roleSpine",null),r(l(t),"data",void 0),t}a(t,e),t.show=function(e){console.log("添加添加");var i=c.createObject("CreateRole","CreateConfirmView",t);i.makeFullScreen(),h.inst.addChild(i),i.data=e,i.start()};var i=t.prototype;return i.start=function(){e.prototype.start.call(this),this.getChild("closeBtn").onClick(this.Close.bind(this)),this.roleName=this.getChild("roleName"),this.roleSpine=this.getChild("roleSpine");var t=this.getChild("n0").asCom;t.getChild("cancelBtn").onClick(this.Close.bind(this)),t.getChild("n7").asCom.getChild("closeBtn").onClick(this.Close.bind(this)),t.getChild("sureBtn").onClick(this.sureBtnClicked.bind(this)),this.data.Spine&&n.load("SPINE/hero_json/"+this.data.Spine,o.SkeletonData,(function(){}),this.onComplete.bind(this)),this.roleName.text=this.data.RoleName},i.onComplete=function(e,t){var i=new s(0,1);this.roleSpine.setSpine(t,i,!1);var n=this.roleSpine.content;n.animation="stand",this.data.Skin&&n.setSkin(this.data.Skin)},i.sureBtnClicked=function(){d.eventTarget.emit("SHOW_COMMON_TIPS",{data:"create role sucess!"}),this.Close()},i.Close=function(){e.prototype.Close.call(this)},t}(C))||u);t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonPrompt.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BaseLayer.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,c,l,u;return{setters:[function(t){e=t.cclegacy,n=t._decorator},function(t){o=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.defineProperty},function(t){c=t.UIPackage,l=t.GRoot},function(t){u=t.BaseLayer}],execute:function(){var h,p,d;e._RF.push({},"438fc9Hm6tOQqJHSCVNooDJ","CommonPrompt",void 0);var f=n.ccclass,m=n.property;t("CommonPrompt",f("CommonPrompt")((d=o((p=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return e=t.call.apply(t,[this].concat(o))||this,r(a(e),"_contentTxt",d,a(e)),s(a(e),"_data",null),e}i(e,t);var n=e.prototype;return n.show=function(t){var n=c.createObject("Common","Common_Prompt",e);n.makeFullScreen(),l.inst.addChild(n),n._contentTxt=t.contentTxt,n._data=t,n.start()},n.start=function(){var e=this;t.prototype.start.call(this),console.log("===222=== this._contentTxt====",this._contentTxt),this.getChild("content").text=this._data.contentTxt,this.getChild("closeBtn").onClick(this.Close.bind(this));var n=this.getChild("sureBtn");this._data.sureTxt&&(n.title=this._data.sureTxt);var o=this.getChild("refuseBtn");this._data.refuseTxt&&(o.title=this._data.refuseTxt),n.onClick((function(){e._data.sureFunc&&e._data.sureFunc(),e.Close()})),o.onClick((function(){e._data.cancleFunc&&e._data.cancleFunc(),e.Close()}))},n.Close=function(){t.prototype.Close.call(this)},e}(u)).prototype,"_contentTxt",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=p))||h);e._RF.pop()}}}));

System.register("chunks:///_virtual/main.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BagLayer.ts"],(function(n){"use strict";var o,t,e,i,a,r,c,s,u,l,f,d,m,p;return{setters:[function(n){o=n.cclegacy,t=n._decorator,e=n.resources,i=n.Font,a=n.Component},function(n){r=n.applyDecoratedDescriptor,c=n.inheritsLoose,s=n.initializerDefineProperty,u=n.assertThisInitialized},function(n){l=n.GRoot,f=n.registerFont,d=n.UIConfig,m=n.UIPackage},function(n){p=n.BagLayer}],execute:function(){var g,y,h;o._RF.push({},"5647e3O0C5CaKnC+cb7UocV","main",void 0);var F=t.ccclass,b=t.property;n("main",F("main")((h=r((y=function(n){function o(){for(var o,t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return o=n.call.apply(n,[this].concat(e))||this,s(u(o),"serializableDummy",h,u(o)),o}c(o,n);var t=o.prototype;return t.onCommonLoaded=function(){l.create(),e.load("Fonts/fzy4k",i,null,(function(n,o){f("fzy4k",o)})),e.load("Fonts/FRADM_temp",i,null,(function(n,o){f("FRADM",o)})),d.defaultFont="FRADM",m.loadPackage("FGUI/fgui_bag",this.onUILoaded.bind(this))},t.onLoad=function(){console.log("main is onLoad!!!"),m.loadPackage("FGUI/Common",this.onCommonLoaded.bind(this))},t.onUILoaded=function(){p.show()},t.start=function(){console.error("main is start!!!")},o}(a)).prototype,"serializableDummy",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),g=y))||g);o._RF.pop()}}}));

System.register("chunks:///_virtual/CreateRoleView.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BaseLayer.ts","./GameUtil.ts","./CreateConfirmView.ts","./ConfigUtil.ts"],(function(t){"use strict";var e,i,n,l,o,r,s,a,c,u,h,p,f,m,d,b,C;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.resources,l=t.sp,o=t.Vec2},function(t){r=t.applyDecoratedDescriptor,s=t.inheritsLoose,a=t.initializerDefineProperty,c=t.assertThisInitialized,u=t.defineProperty},function(t){h=t.UIPackage,p=t.GRoot,f=t.Event},function(t){m=t.BaseLayer},function(t){d=t.GameUtil},function(t){b=t.CreateConfirmView},function(t){C=t.ConfigUtil}],execute:function(){var I,g,_,x,y,S,T,v,w,k,R,L;e._RF.push({},"879e8nM+DFB86FdEv7I+35y","CreateRoleView",void 0);var N=i.ccclass,z=i.property;t("CreateRoleView",N("CreateRoleView")((_=r((g=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,a(c(e),"topInfo",_,c(e)),a(c(e),"title",x,c(e)),a(c(e),"inputTxt",y,c(e)),a(c(e),"selectList",S,c(e)),a(c(e),"list1",T,c(e)),a(c(e),"list2",v,c(e)),a(c(e),"list3",w,c(e)),a(c(e),"roleSelectIdx",k,c(e)),a(c(e),"roleSpine",R,c(e)),a(c(e),"spine",L,c(e)),u(c(e),"skinName",null),u(c(e),"_tableName","CharacterTemplate"),u(c(e),"_tableInfo",null),u(c(e),"_roleNum",0),u(c(e),"_selectData",null),e}s(e,t),e.show=function(){var t=h.createObject("CreateRole","CreateRoleView",e);t.makeFullScreen(),p.inst.addChild(t),t.start()};var i=e.prototype;return i.start=function(){var e=this;t.prototype.start.call(this),this._tableInfo=C.getTable(this._tableName),this._roleNum=C.getTableLen(this._tableName),this.inputTxt=this.getChild("inputTxt");var i=this.inputTxt.promptText;this.inputTxt.on(f.TOUCH_BEGIN,(function(){e.inputTxt.promptText=""})),this.inputTxt.on(f.TOUCH_END,(function(){e.inputTxt.promptText=i})),this.topInfo=this.getChild("topInfo"),this.topInfo.getChild("closeBtn").onClick((function(){console.log("closeBtn"),e.Close()}),this),this.title=this.topInfo.getChild("title"),this.title.text="Create Role",this.getChild("sureBtn").onClick(this.onConfirmBtnClicked.bind(this)),this.roleSpine=this.getChild("roleSpine");var n=this.getChild("selectList");this.selectList=n,n.on(f.CLICK_ITEM,this.onClickItem,this),n.itemRenderer=this.renderListItem,n.numItems=this._roleNum,n.selectedIndex=0,this._selectData=this._tableInfo[1];var l=this.getChild("list1");this.list1=l,l.on(f.CLICK_ITEM,this.onClickItem1,this),l.itemRenderer=this.renderListItem1.bind(this),l.numItems=3,l.selectedIndex=0,this.refreshRoleSpine()},i.Close=function(){t.prototype.Close.call(this)},i.renderListItem=function(t,e){e.getChild("iconImg").url="RES/Icon/role_icon_1png"},i.onClickItem=function(t){var e=this.selectList.selectedIndex+1;this._selectData=this._tableInfo[e],this.refreshRoleSpine()},i.refreshRoleSpine=function(){if(this.roleSelectIdx!=this.selectList.selectedIndex){var t=Math.floor(10*Math.random())%3;this.list1.selectedIndex=t,n.load("SPINE/hero_json/"+this._selectData.Spine,l.SkeletonData,this.onProcess.bind(this),this.onComplete.bind(this))}},i.onProcess=function(t,e){},i.onComplete=function(t,e){var i=new o(0,1);this.roleSpine.setSpine(e,i,!1),this.spine=this.roleSpine.content,this.spine.animation="stand";var n=this.list1.selectedIndex+1;console.log("=idx====",n),n>2&&(n=2),this.spine.setSkin("a"+n),this.skinName="a"+n},i.renderListItem1=function(t,e){var i=e,n=this._selectData["Icon"+(t+1)];console.log(t,"num=",n),i.getChild("color").url="ui://CreateRole/role_img_s"+n},i.onClickItem1=function(t){var e=this.list1.selectedIndex+1;e>2&&(e=2),this.spine.setSkin("a"+e),this.skinName="a"+e},i.onConfirmBtnClicked=function(){if(console.log("输入文本："+this.inputTxt.text),this.inputTxt.text&&""!=this.inputTxt.text){var t=new Array;t.Spine=this._selectData.Spine,t.RoleName=this.inputTxt.text,t.Skin=this.skinName,b.show(t)}else d.eventTarget.emit("SHOW_COMMON_TIPS",{data:"nickname is null!"})},i.test=function(){var t=this._tableInfo[1];console.log(this._tableInfo);var e=0;for(var i in this._tableInfo)e++;console.log("====长度===",e,t.StartTime);var n=Object.keys(this._tableInfo);console.log("====22222222===",n,n.length)},e}(m)).prototype,"topInfo",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=r(g.prototype,"title",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=r(g.prototype,"inputTxt",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(g.prototype,"selectList",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=r(g.prototype,"list1",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=r(g.prototype,"list2",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=r(g.prototype,"list3",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(g.prototype,"roleSelectIdx",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=r(g.prototype,"roleSpine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(g.prototype,"spine",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=g))||I);e._RF.pop()}}}));

System.register("chunks:///_virtual/GameUtil.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./CommonTips.ts"],(function(t){"use strict";var n,e,o,i,r,a,s,u;return{setters:[function(t){n=t.cclegacy,e=t._decorator,o=t.resources,i=t.TiledMapAsset,r=t.EventTarget},function(t){a=t.defineProperty,s=t.createClass},function(t){u=t.CommonTips}],execute:function(){var c,l,h;n._RF.push({},"8d831SPOStFwZitFuiZMUii","GameUtil",void 0);var f=e.ccclass;e.property,t("GameUtil",f("GameUtil")((h=l=function(){function t(){a(this,"tiledMapPool",{})}var n=t.prototype;return n.test=function(){},n.getConfigPath=function(t){return"DATA/"+t},n.PointAngle=function(t,n){return Math.atan2(n.y-t.y,n.x-t.x)},n.AngleOffset=function(t,n){n>Math.PI/2&&(n%=Math.PI/2);var e=Math.abs(t),o=e+n;o>Math.PI&&(o=-(Math.PI-(o-Math.PI)));var i=e-n;return i<0&&(i=i),[o*t/Math.abs(t),i*t/Math.abs(t)]},n.Point2PointFAngle=function(t,n,e){var o=n*Math.cos(e),i=n*Math.sin(e);return{x:t.x+o,y:t.y+i}},n.PointTheta=function(t,n){return Math.atan2(n.y-t.y,n.x-t.x)*(180/Math.PI)},n.PointToPointFspeed=function(t,n,e){var o=this.PointAngle(t,n),i=this.Point2PointFAngle(t,e,o);return[i,this.PixToSpeed(i,n)<e]},n.AngleToTheta=function(t){return t*(180/Math.PI)},n.getPixAndPixCenter=function(t,n,e){return void 0===e&&(e=null),e||(e=2),{x:Math.floor((t.x+n.x)/e),y:Math.floor((t.y+n.y)/e)}},n.PixToSpeed=function(t,n){return Math.sqrt((t.x-n.x)*(t.x-n.x)+(t.y-n.y)*(t.y-n.y))},n.P=function(t,n){return{x:t,y:n}},n.fMapIndex=function(t,n){return t+""+n},n.LoadTiledMap=function(t,n){this.tiledMapPool[t]?n.tmxAsset=this.tiledMapPool[t]:o.load(t,i,(function(e,o){e?console.error(e.message):(console.log(t+" ooko"),this.tiledMapPool[t]=o,n.tmxAsset=this.tiledMapPool[t])}))},n.ShowTips=function(t){(new u).show(t)},s(t,null,[{key:"inst",get:function(){return t._inst||(t._inst=new t),t._inst}},{key:"eventTarget",get:function(){return t._eventTarget||(t._eventTarget=new r),t._eventTarget}}]),t}(),a(l,"_inst",void 0),a(l,"_eventTarget",void 0),c=h))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigUtil.ts",["cc","./JsonUtils.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},function(t){e=t.JsonUtil}],execute:function(){n._RF.push({},"938caj4DdlB5b5k3NA0D+S+","ConfigUtil",void 0);t("ConfigUtil",function(){function t(){}return t.getTable=function(t){return e.get(t)},t.getTableLen=function(n){var e=t.getTable(n);return Object.keys(e).length},t.getConfigById=function(n,e){var r=t.getTable(n),i=null;for(var u in r){var o=r[u];if(o.Id==e){i=o;break}}return i},t.getConfigValue=function(n,e,r){var i=t.getTable(n),u=null;for(var o in i){var c=i[o];if(c.Id==e){u=c[r];break}}return u},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BaseLayer.ts","./GameUtil.ts","./JsonUtils.ts","./CreateRoleView.ts"],(function(e){"use strict";var t,n,o,r,i,s,a,c,u,l,f;return{setters:[function(e){t=e.cclegacy,n=e._decorator,o=e.resources},function(e){r=e.inheritsLoose,i=e.asyncToGenerator},function(e){s=e.UIPackage,a=e.GRoot},function(e){c=e.BaseLayer},function(e){u=e.GameUtil},function(e){l=e.JsonUtil},function(e){f=e.CreateRoleView}],execute:function(){var p;t._RF.push({},"a777arVc9ZLyatKMrjev+3e","LoadingView",void 0);var g=n.ccclass;n.property,e("LoadingView",g("LoadingView")(p=function(e){function t(){return e.apply(this,arguments)||this}r(t,e),t.show=function(){console.log("添加添加");var e=s.createObject("Loading","LoadingView",t);e.makeFullScreen(),a.inst.addChild(e),e.start()};var n=t.prototype;return n.start=function(){var e=i(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadCustom();case 2:this.loadRes();case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),n.loadCustom=function(){return new Promise(function(){var e=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l.loadAsync("ActivityTemplate");case 2:return e.next=4,l.loadAsync("CharacterTemplate");case 4:t(null);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())},n.loadRes=function(){console.log("===loadRes======"),o.loadDir("RES",this.onProgress.bind(this),this.onComplete.bind(this))},n.onProgress=function(e,t,n){},n.onComplete=function(){var e=this;s.loadPackage("FGUI/CreateRole",(function(){f.show(),e.Close()}))},n.Close=function(){e.prototype.Close.call(this)},n.RegisterEvents=function(){var t=this;e.prototype.RegisterEvents.call(this),u.eventTarget.on("LoginSucess",(function(){t.Close()}),this)},n.UnregisterEvents=function(){e.prototype.UnregisterEvents.call(this),u.eventTarget.off("LoginSucess",(function(){}),this)},t}(c))||p);t._RF.pop()}}}));

System.register("chunks:///_virtual/BagLayer.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BaseLayer.ts","./CommonTips.ts","./GameUtil.ts","./CommonPrompt.ts","./LoadingView.ts","./BagMainView.ts"],(function(t){"use strict";var o,n,e,i,s,a,r,c,l,h,u;return{setters:[function(t){o=t.cclegacy,n=t._decorator},function(t){e=t.inheritsLoose},function(t){i=t.UIPackage,s=t.GRoot},function(t){a=t.BaseLayer},function(t){r=t.CommonTips},function(t){c=t.GameUtil},function(t){l=t.CommonPrompt},function(t){h=t.LoadingView},function(t){u=t.BagMainView}],execute:function(){var f;o._RF.push({},"a7f8bEia/5DEaD2IADBhYW6","BagLayer",void 0);var g=n.ccclass;n.property,t("BagLayer",g("BagLayer")(f=function(t){function o(){return t.apply(this,arguments)||this}e(o,t),o.show=function(){var t=i.createObject("fgui_bag","main",o);t.makeFullScreen(),s.inst.addChild(t),t.start()};var n=o.prototype;return n.start=function(){t.prototype.start.call(this),this.getChild("n1").onClick((function(){console.log("btn n1"),c.eventTarget.emit("BAGLAYER_foobar",{data:1})}),this),this.getChild("n2").onClick((function(){i.loadPackage("FGUI/Loading",(function(){h.show()}))}),this),this.getChild("n3").onClick((function(){i.loadPackage("FGUI/Package",(function(){u.show()}))}),this)},n.Close=function(){t.prototype.Close.call(this)},n.RegisterEvents=function(){t.prototype.RegisterEvents.call(this),c.eventTarget.on("BAGLAYER_foobar",this._sayHello,this),c.eventTarget.on("SHOW_COMMON_TIPS",this._showTips,this),c.eventTarget.on("SHOW_COMMON_PROMPT",this._showPrompt,this)},n.UnregisterEvents=function(){t.prototype.UnregisterEvents.call(this),c.eventTarget.off("BAGLAYER_foobar",this._sayHello,this),c.eventTarget.off("SHOW_COMMON_TIPS",this._showTips,this),c.eventTarget.off("SHOW_COMMON_PROMPT",this._showPrompt,this)},n._sayHello=function(t){console.log("Hello World="+t.data),this.Close(),setTimeout((function(){o.show()}),1e3)},n._showTips=function(t){console.log("Tips TXT ="+t.data),(new r).show(t.data)},n._showPrompt=function(t){console.log("Tips TXT ="+t.contentTxt),(new l).show(t)},o}(a))||f);o._RF.pop()}}}));

System.register("chunks:///_virtual/BagMainView.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs","./BaseLayer.ts","./GameUtil.ts","./BagItemGet.ts"],(function(t){"use strict";var e,i,n,s,a,r,o,l,h,c,m;return{setters:[function(t){e=t.cclegacy,i=t._decorator},function(t){n=t.inheritsLoose,s=t.defineProperty,a=t.assertThisInitialized},function(t){r=t.UIPackage,o=t.GRoot,l=t.Event},function(t){h=t.BaseLayer},function(t){c=t.GameUtil},function(t){m=t.BagItemGet}],execute:function(){var u;e._RF.push({},"c21621bN7ZCh7mqTiLuriEr","BagMainView",void 0);var d=i.ccclass;i.property,t("BagMainView",d("BagMainView")(u=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];return e=t.call.apply(t,[this].concat(n))||this,s(a(e),"btnList",null),s(a(e),"itemList",null),s(a(e),"seletItemCom",null),s(a(e),"itemName",null),s(a(e),"desTxt",null),s(a(e),"isEmpty",null),s(a(e),"_btnType",null),s(a(e),"_bagData",void 0),s(a(e),"_selectData",void 0),s(a(e),"_selectItems",void 0),s(a(e),"_selectItemData",void 0),e}n(e,t),e.show=function(){var t=r.createObject("Package","BagMainView",e);t.makeFullScreen(),o.inst.addChild(t),t.start()};var i=e.prototype;return i.start=function(){var t=this;this.initData();var e=this.getChild("topInfo").asCom;e.getChild("closeBtn").onClick((function(){console.log("closeBtn"),t.Close()}),this),e.getChild("title").text="Package",this.isEmpty=this.getController("isEmpty");var i=this.getChild("btnList");this.btnList=i,i.on(l.CLICK_ITEM,this.onClickBtn,this),i.itemRenderer=this.renderBtnList.bind(this),i.numItems=this._btnType.length;var n=this.getChild("itemList");this.itemList=n,n.on(l.CLICK_ITEM,this.onClickItem,this),n.itemRenderer=this.renderItemList.bind(this),n.setVirtual(),this.seletItemCom=this.getChild("seletItem"),this.itemName=this.getChild("itemName"),this.desTxt=this.getChild("desTxt"),i.selectedIndex=0,this.refreshSelectBtn(0),this.getChild("useBtn").onClick(this.onUseBtnClicked.bind(this)),this.getChild("mintBtn").onClick(this.onMintBtnClicked.bind(this))},i.renderBtnList=function(t,e){var i=e,n=i.getChild("title"),s=i.getChild("icon1"),a=i.getChild("icon2");0==t?(s.url="ui://Package/packaga_icon_1_1",a.url="ui://Package/packaga_icon_1_1"):(s.url="ui://Package/packaga_icon_"+(t+1),a.url="ui://Package/packaga_icon_"+(t+1)+"_1"),n.text=this._btnType[t]},i.onClickBtn=function(t){var e=this.btnList.selectedIndex;this.refreshSelectBtn(e)},i.refreshSelectBtn=function(t){this._selectData=this._bagData[t],this._selectItems=this._selectData.items;var e=this._selectItems.length;this.itemList.numItems=e,0==e?this.isEmpty.selectedIndex=0:(this.isEmpty.selectedIndex=1,this.itemList.selectedIndex=0,this.refreshInfoPanel(0))},i.renderItemList=function(t,e){var i=this._selectItems[t];this.refreshItem(e,i)},i.onClickItem=function(t){var e=this.itemList.selectedIndex;this.refreshInfoPanel(e)},i.refreshInfoPanel=function(t){var e=this._selectItems[t];this._selectItemData=e,this.refreshItem(this.seletItemCom,e),this.itemName.text=e.name,this.desTxt.text=e.des},i.refreshItem=function(t,e){var i=t;i.getChild("icon").url="RES/Icon/role_icon_1png",i.getChild("num").text=e.num},i.onUseBtnClicked=function(){this._selectItemData.canuse||c.eventTarget.emit("SHOW_COMMON_PROMPT",{contentTxt:"Are you sure you want to quit the game and jump to the function?",sureFunc:this._promptUseSureBtn.bind(this)})},i.onMintBtnClicked=function(){this._selectItemData.canmint=!0,this._selectItemData.canmint?c.eventTarget.emit("SHOW_COMMON_PROMPT",{contentTxt:"Are you sure to mint the [item's name]?",sureFunc:this._promptMintSureBtn.bind(this)}):c.eventTarget.emit("SHOW_COMMON_TIPS",{data:"need  fragment X/Y "})},i._promptUseSureBtn=function(){console.log("确定1")},i._promptMintSureBtn=function(){console.log("确定2"),m.show(this._selectItemData)},i.initData=function(){this._btnType=new Array("All","House","Egg","Potion"),this._bagData=new Array;for(var t=0,e=0;e<this._btnType.length;e++){var i=new Array;i.type=e+1;var n=new Array;i.items=n;for(var s=Math.floor(10*Math.random()),a=0;a<s;a++){t++;var r=new Array;r.id=t,r.name="item"+t,r.num=t,r.des="Des:"+t,n.push(r)}this._bagData.push(i)}console.log(this._bagData)},e}(h))||u);e._RF.pop()}}}));

System.register("chunks:///_virtual/player.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./GameUtil.ts","./Config.ts","./MapModule.ts"],(function(t){"use strict";var e,i,n,s,a,o,h,l,r,f,c,y,P,p;return{setters:[function(t){e=t.cclegacy,i=t._decorator,n=t.Prefab,s=t.input,a=t.Input,o=t.KeyCode},function(t){h=t.applyDecoratedDescriptor,l=t.inheritsLoose,r=t.initializerDefineProperty,f=t.assertThisInitialized,c=t.defineProperty},function(t){y=t.GameUtil},function(t){P=t.Config},function(t){p=t.MapModule}],execute:function(){var u,M,K,v,O;e._RF.push({},"c7e6asV7vtCL6CorJakTEXc","player",void 0);var E=i.ccclass,d=i.property;t("player",(u=E("player"),M=d({type:n}),u((O=h((v=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e=t.call.apply(t,[this].concat(n))||this,r(f(e),"MmapPab",O,f(e)),c(f(e),"KeyOffX",0),c(f(e),"KeyOffY",0),c(f(e),"moveAngle",null),e}l(e,t);var i=e.prototype;return i.start=function(){t.prototype.init.call(this,this.MmapPab),console.log("start init"),this.upDateMap(!0),this.upDatePlayerLocal()},i.onLoad=function(){s.on(a.EventType.KEY_DOWN,this.onKeyDown,this),s.on(a.EventType.KEY_UP,this.onKeyUp,this)},i.onDestroy=function(){s.off(a.EventType.KEY_DOWN,this.onKeyDown,this),s.off(a.EventType.KEY_UP,this.onKeyUp,this)},i.update=function(e){t.prototype.update.call(this,e),this.updateKeyOff(),this.HandleMove(e)},i.HandleMoveUtile=function(t){return!!this.mapIsCanMove(t.x,t.y)&&(this.worldPlayerX=t.x,this.worldPlayerY=t.y,!0)},i.HandleMove=function(t){var e=t/P.FrameTime*this.SPEED;if(null!=this.moveAngle){var i={x:this.worldPlayerX,y:this.worldPlayerY},n=y.inst.Point2PointFAngle(i,e,this.moveAngle);if(n=this.checkMapPix(n),!this.HandleMoveUtile(n)){var s=this.moveAngle;s>Math.PI/2&&s<Math.PI?(n=y.inst.Point2PointFAngle(i,e,Math.PI/2),n=this.checkMapPix(n),this.HandleMoveUtile(n)||(n=y.inst.Point2PointFAngle(i,e,Math.PI),n=this.checkMapPix(n),this.HandleMoveUtile(n))):s<Math.PI/2&&s>0?(n=y.inst.Point2PointFAngle(i,e,0),n=this.checkMapPix(n),this.HandleMoveUtile(n)||(n=y.inst.Point2PointFAngle(i,e,Math.PI/2),n=this.checkMapPix(n),this.HandleMoveUtile(n))):s<0&&s>-Math.PI/2?(n=y.inst.Point2PointFAngle(i,e,-Math.PI/2),n=this.checkMapPix(n),this.HandleMoveUtile(n)||(n=y.inst.Point2PointFAngle(i,e,0),n=this.checkMapPix(n),this.HandleMoveUtile(n))):s>-Math.PI&&s<-Math.PI/2&&(n=y.inst.Point2PointFAngle(i,e,Math.PI),n=this.checkMapPix(n),this.HandleMoveUtile(n)||(n=y.inst.Point2PointFAngle(i,e,-Math.PI/2),n=this.checkMapPix(n),this.HandleMoveUtile(n)))}this.upDateMap(),this.upDatePlayerLocal()}},i.updateKeyOff=function(){if(this.KeyOffX<0?this.node.setScale(-1,1):this.KeyOffX>0&&this.node.setScale(1,1),0!=this.KeyOffY&&0!=this.KeyOffX)this.moveAngle=y.inst.PointAngle({x:0,y:0},{x:this.KeyOffX/this.SPEED*this.SPEED/Math.sqrt(2),y:this.KeyOffY/this.SPEED*this.SPEED/Math.sqrt(2)}),this.setPlayerState("run");else if(0!=this.KeyOffY)this.moveAngle=y.inst.PointAngle({x:0,y:0},{x:0,y:this.KeyOffY}),this.setPlayerState("run");else{if(0==this.KeyOffX)return void(null!=this.moveAngle&&(this.moveAngle=null,this.setPlayerState("stand")));this.moveAngle=y.inst.PointAngle({x:0,y:0},{x:this.KeyOffX,y:0}),this.setPlayerState("run")}},i.onTouchStart=function(t){var e=t.getUILocation(),i=this.getMapCellXY();this.moveToPos(y.inst.P(e.x-i.x,e.y-i.y))},i.onKeyDown=function(t){switch(t.keyCode){case o.ARROW_UP:case o.KEY_W:this.KeyOffY=this.SPEED;break;case o.ARROW_DOWN:case o.KEY_S:this.KeyOffY=-this.SPEED;break;case o.ARROW_LEFT:case o.KEY_A:this.KeyOffX=-this.SPEED;break;case o.ARROW_RIGHT:case o.KEY_D:this.KeyOffX=this.SPEED}},i.onKeyUp=function(t){switch(t.keyCode){case o.ARROW_UP:case o.KEY_W:this.KeyOffY>0&&(this.KeyOffY=0);break;case o.ARROW_DOWN:case o.KEY_S:this.KeyOffY<0&&(this.KeyOffY=0);break;case o.ARROW_LEFT:case o.KEY_A:this.KeyOffX<0&&(this.KeyOffX=0);break;case o.ARROW_RIGHT:case o.KEY_D:this.KeyOffX>0&&(this.KeyOffX=0)}},e}(p)).prototype,"MmapPab",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=v))||K));e._RF.pop()}}}));

System.register("chunks:///_virtual/BaseLayer.ts",["cc","./_rollupPluginModLoBabelHelpers.js","./fairygui.mjs"],(function(e){"use strict";var t,n,s,r;return{setters:[function(e){t=e.cclegacy,n=e._decorator},function(e){s=e.inheritsLoose},function(e){r=e.GComponent}],execute:function(){var i;t._RF.push({},"d77e4Rn+HBKDrYzPhdqRTx4","BaseLayer",void 0);var o=n.ccclass;n.property,e("BaseLayer",o("BaseLayer")(i=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var n=t.prototype;return n.start=function(){this.RegisterEvents()},n.Close=function(){this.UnregisterEvents(),this.dispose()},n.RegisterEvents=function(){},n.UnregisterEvents=function(){},t}(r))||i);t._RF.pop()}}}));

System.register("chunks:///_virtual/NetModule.ts",["cc","./_rollupPluginModLoBabelHelpers.js"],(function(t){"use strict";var e,s,n,o;return{setters:[function(t){e=t.cclegacy,s=t._decorator},function(t){n=t.defineProperty,o=t.createClass}],execute:function(){var c,i,l;e._RF.push({},"ec04884T+hGbZLWF95dOjWb","NetModule",void 0);var u=s.ccclass;s.property,t("NetModule",u("NetModule")((l=i=function(){function t(){n(this,"ws",null)}var e=t.prototype;return e.init=function(t,e,s,n){null==this.ws&&(this.ws=new WebSocket("ws://localhost:3000"),this.ws.onopen=function(t){console.log("服务器链接成功"),s.call(n,{code:1,msg:"登录成功"})},this.ws.onerror=function(t){console.log("服务器链接失败"),s.call(n,{code:0,msg:"登录失败"})},this.ws.onclose=function(t){console.log("与服务器断开链接")},this.ws.onmessage=function(t){})},e.close=function(){null!=this.ws&&this.ws.readyState!=WebSocket.OPEN||this.ws.close()},e.sendMsg=function(t){null!=this.ws&&this.ws.readyState!=WebSocket.OPEN||this.ws.send(t)},o(t,null,[{key:"inst",get:function(){return t._inst||(t._inst=new t),t._inst}}]),t}(),n(i,"_inst",void 0),c=l))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./BaseLayer.ts","./CommonTips.ts","./GameUtil.ts","./JsonUtils.ts","./Config.ts","./MapModule.ts","./BagItemGet.ts","./CreateConfirmView.ts","./CommonPrompt.ts","./ConfigUtil.ts","./CreateRoleView.ts","./LoadingView.ts","./BagMainView.ts","./BagLayer.ts","./main.ts","./player.ts","./NetModule.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});